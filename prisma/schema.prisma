generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id            String   @id @default(cuid())
  email         String?  @unique
  createdAt     DateTime @default(now())
  ideas         Idea[]
  // subscription  Subscription? // Model not defined in prompt, commented out for now
}

model Idea {
  id          String   @id @default(cuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id])
  
  // Input data
  location    String
  age         String
  mbti        String
  occupation  String
  budget      Int
  timeCommit  String
  interests   String[]
  
  // New Market Settings (Tiered)
  continent   String?
  growthSpeed String?
  marketSize  String?
  tier        String?  @default("FREE")
  
  // Generated content
  title       String
  description String   @db.Text
  marketData  Json
  whyYou      String   @db.Text
  roadmap     Json
  products    Json
  
  // Social Features
  isPublic    Boolean  @default(false)
  viewCount   Int      @default(0)
  likeCount   Int      @default(0)
  
  createdAt   DateTime @default(now())
}
